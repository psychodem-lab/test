<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warsztat: Wartości w Działaniu</title>
    <style>
        :root {
            --primary: #2e86de;
            --success: #10ac84;
            --accent: #f39c12;
            --bg: #f5f6fa;
            --text: #2f3640;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0; padding: 15px;
            display: flex; flex-direction: column; align-items: center;
        }

        .container { max-width: 800px; width: 100%; }
        h2, h3 { text-align: center; color: var(--primary); }
        .instruction { font-size: 0.9em; color: #718093; text-align: center; margin-bottom: 20px; }

        /* KROK 1: SELEKCJA */
        .counter-box {
            position: sticky; top: 10px; background: white; padding: 12px;
            border-radius: 50px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 100; margin-bottom: 20px; font-weight: bold;
            border: 2px solid var(--primary); text-align: center;
        }
        .counter-box.goal-reached { border-color: var(--success); background: var(--success); color: white; }

        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 10px; }
        .value-card {
            background: white; padding: 12px; border-radius: 10px; text-align: center;
            font-size: 0.85em; cursor: pointer; border: 1px solid #dcdde1; transition: 0.2s;
            user-select: none; -webkit-tap-highlight-color: transparent;
        }
        .value-card.crossed { background: #f1f2f6; color: #b2bec3; text-decoration: line-through; opacity: 0.5; }

        /* KROK 2: OCENA */
        #step2 { display: none; margin-top: 30px; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
        .rating-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .rating-table th { font-size: 0.7em; text-transform: uppercase; color: #7f8c8d; padding: 10px 5px; }
        .rating-table td { border-bottom: 1px solid #eee; padding: 10px 0; }
        .val-name { font-weight: bold; font-size: 0.9em; }
        select { width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; font-size: 0.9em; }

        /* KROK 3: SMART */
        #step3 { display: none; margin-top: 30px; background: #fff; padding: 20px; border-radius: 15px; border-left: 5px solid var(--accent); }
        .smart-input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        .btn-reset { margin-top: 20px; padding: 10px 20px; background: #95a5a6; color: white; border: none; border-radius: 5px; cursor: pointer; }

        @media (max-width: 480px) {
            .grid { grid-template-columns: repeat(2, 1fr); }
            th { font-size: 0.6em; }
        }
    </style>
</head>
<body>

<div class="container">
    <div id="step1">
        <h2>Krok 1: Selekcja</h2>
        <p class="instruction">Wykreślaj wartości, aż zostanie dokładnie <strong>8</strong> najważniejszych.</p>
        <div class="counter-box" id="counterBox">Pozostało: <span id="count">90</span> / 8</div>
        <div class="grid" id="valuesGrid"></div>
    </div>

    <div id="step2">
        <h2>Krok 2: Ocena (Skala 1-10)</h2>
        <p class="instruction">Oceń ważność wartości oraz poziom jej obecnej realizacji w Twoim życiu.</p>
        <table class="rating-table" id="ratingTable">
            <thead>
                <tr>
                    <th>Wartość</th>
                    <th>Ważność</th>
                    <th>Realizacja</th>
                </tr>
            </thead>
            <tbody id="ratingBody"></tbody>
        </table>
        <button class="btn-reset" onclick="showSmart()" style="background: var(--primary); width: 100%; margin-top: 20px;">Przejdź do celu SMART</button>
    </div>

    <div id="step3">
        <h2>Krok 3: Cel SMART</h2>
        <p class="instruction">Wybierz jedną wartość, którą chcesz realizować lepiej i zaplanuj konkretne działanie.</p>
        <select id="smartValueSelect" class="smart-input"></select>
        <input type="text" class="smart-input" placeholder="S - Co dokładnie zrobisz? (Konkret)">
        <input type="text" class="smart-input" placeholder="M - Jak zmierzysz sukces?">
        <input type="text" class="smart-input" placeholder="A - Czy to jest dla Ciebie osiągalne?">
        <input type="text" class="smart-input" placeholder="R - Dlaczego to jest ważne? (Istotne)">
        <input type="text" class="smart-input" placeholder="T - Kiedy to zrobisz? (Czas)">
        <button class="btn-reset" onclick="window.print()">Zapisz / Drukuj plan</button>
    </div>
    
    <button class="btn-reset" onclick="location.reload()">Zacznij od nowa</button>
</div>

<script>
    const listaWartosci = [
        "Autentyczność", "Akceptacja", "Bezpieczeństwo", "Bogactwo", "Bliskie relacje",
        "Cierpliwość", "Ciekawość", "Czystość", "Czułość", "Delikatność",
        "Duma", "Dyskrecja", "Duchowość", "Doskonałość", "Elastyczność",
        "Efektywność", "Entuzjazm", "Godność", "Harmonia", "Honor",
        "Hedonizm", "Intuicja", "Konsekwencja", "Kreatywność", "Komfort",
        "Kompetencja", "Lojalność", "Marzenia", "Miłość", "Misja",
        "Mądrość", "Nadzieja", "Niezależność", "Odpowiedzialność", "Odwaga",
        "Otwartość", "Otoczenie", "Pasja", "Przygoda", "Perfekcjonizm",
        "Piękno", "Prawość", "Pomoc innym", "Pogoda ducha", "Przyjaźń",
        "Prestiż", "Prawda", "Pokora", "Prostota", "Przyjemność",
        "Rodzina", "Radość", "Rozwój", "Rozwaga", "Ryzyko",
        "Rozrywka", "Równowaga", "Samoświadomość", "Sława", "Spontaniczność",
        "Sprawiedliwość", "Szczęście", "Stanowczość", "Sukces", "Szczerość",
        "Szczodrość", "Spokój", "Stabilność", "Szacunek", "Szlachetność",
        "Tolerancja", "Troskliwość", "Twórczość", "Uczciwość", "Wdzięczność",
        "Wiedza", "Wykształcenie", "Wygoda", "Wolność", "Wierność",
        "Wyrozumiałość", "Wsparcie", "Wrażliwość", "Wiarygodność", "Wiara",
        "Zaufanie", "Zaradność", "Zdrowie", "Zadowolenie", "Zaangażowanie"
    ];

    const grid = document.getElementById('valuesGrid');
    const countSpan = document.getElementById('count');
    const counterBox = document.getElementById('counterBox');
    let wybrane = [];

    listaWartosci.forEach(val => {
        const div = document.createElement('div');
        div.className = 'value-card';
        div.innerText = val;
        div.onclick = () => {
            div.classList.toggle('crossed');
            update();
        };
        grid.appendChild(div);
    });

    function update() {
        const crossedCount = document.querySelectorAll('.value-card.crossed').length;
        const left = listaWartosci.length - crossedCount;
        countSpan.innerText = left;

        if (left === 8) {
            counterBox.classList.add('goal-reached');
            counterBox.innerText = "Mamy to! Przewiń w dół.";
            showStep2();
        } else {
            counterBox.classList.remove('goal-reached');
            counterBox.innerHTML = `Pozostało: <span>${left}</span> / 8`;
            document.getElementById('step2').style.display = 'none';
        }
    }

    function showStep2() {
        const remainingCards = document.querySelectorAll('.value-card:not(.crossed)');
        const tbody = document.getElementById('ratingBody');
        const selectSmart = document.getElementById('smartValueSelect');
        
        tbody.innerHTML = '';
        selectSmart.innerHTML = '<option disabled selected>Wybierz wartość do pracy...</option>';
        wybrane = [];

        remainingCards.forEach(card => {
            const val = card.innerText;
            wybrane.push(val);
            
            // Wiersz tabeli
            const row = `<tr>
                <td class="val-name">${val}</td>
                <td>${createSelect()}</td>
                <td>${createSelect()}</td>
            </tr>`;
            tbody.innerHTML += row;

            // Opcja do SMART
            const opt = document.createElement('option');
            opt.innerText = val;
            selectSmart.appendChild(opt);
        });

        document.getElementById('step2').style.display = 'block';
        window.scrollTo({ top: document.getElementById('step2').offsetTop, behavior: 'smooth' });
    }

    function createSelect() {
        let s = '<select>';
        for(let i=1; i<=10; i++) s += `<option value="${i}">${i}</option>`;
        return s + '</select>';
    }

    function showSmart() {
        document.getElementById('step3').style.display = 'block';
        window.scrollTo({ top: document.getElementById('step3').offsetTop, behavior: 'smooth' });
    }

    countSpan.innerText = listaWartosci.length;
</script>

</body>
</html>
